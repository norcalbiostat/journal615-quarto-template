---
title: "Demo aft format to use as template"
format:
  aft-pdf:
    keep-tex: true  
  aft-html: default
author:
  - name: John Doe
    affiliations:
      - name: Dummy org
        department: Cool Dep
        address: Somewhere
        city: Magic city
        country: best one
        postal-code: 9999
      - Demo Journal
    orcid: 0000-0000-0000-0000
    email: JD@example.org
    url: https://example.org/
  - name: his friend
    affiliations:
      - Another Affiliation
abstract: |
  This document is only a demo explaining how to use the template.
keywords: [template, demo]
reference-section-title: References
bibliography: bibliography.bib  
---

## Introduction {#sec-intro}

This is an example document only for the purpose to use this repo as a template starter for creating articles for the Journal of Math 615.  For this `article-format-template` we call our dummy article `aft`. 

This quarto extension format supports PDF and HTML outputs. `quarto-journals` is aiming at porting existing {{< latex >}} template from journals to be used with quarto. PDF format is what require the most work to fit the journals guideline, but Quarto offer a nice rendering for HTML output too. This demo format template only use basic HTML format without any customization for now.


## Structure of this repository

Everything for the extensions is in `_extensions`. See Quarto doc for details. 

- In `partials`, you'll find the `.tex` partials that can be used and should be removed or tweaked



### `_extensions\aft` 

In this folder you'll find everything that defines the extensions which could be installed using `quarto install extension` or be part of the template when using `quarto use template`

Format Metadata
  ~ This is in `_extension.yml` is where all the metadata about the format are defined so that Quarto knows what to use.
  Adapt this file for you own template.


`template.qmd`

  ~ This file is the template document that shows how to use the custom format. It will be downloaded with other resource by `quarto use template`, and even offered to be renamed if the name `template.qmd` is used. 

    This file will usually use the custom format (here `aft-pdf` and `aft-html`) and show how to use the template. When you'll copy this template, you should be able to render this document to the demo format. 

    **Adapt this file to provide a suitable template for your custom format**

Other files

  ~ Other files are needed by the template and are usually user provided - they are not part of the custom format. 

    Here `bibliography.bib` is here to demo the usage of the bst file from the custom format.

    **Remove this file and provide a suitable one for your template**

{{< pagebreak >}}

## Checklist: Creating a custom format

Here is the checklist to help you know what to modify:

- Read the resources mentioned at the top,
- Use this template repo to create a new repository for your format (Click on "Use this template" to create new github repo)
- Once you are acquainted with the content, remove the resources that are there only as example (see above)
- Update README by replacing `aft` and `Article Format Template` mentions for your journal format
- Keep only the template partials that you need to tweak, and add custom ones if needed
- Add any external resource your format will need, and that should be part of the extension format that will be downloaded,
- Check `_extension.yml` is updated correctly
- Modify the skeleton `template.qmd` to your format and add any required resources to be downloaded to user.
- Check `.quartoignore` is updated which everything that should not be downloaded.
- Publish a demo of you format to github pages of the repo by using `quarto publish` command 

## Demo of some features found in this demo journal template

### Shortcode demo {#sec-shortcode}

PDF are rendered using {{< latex >}} but it is best if one can use a Markdown syntax for cross format support.

`{{< latex >}}` used in source is a shortcode syntax where the shortcode is included in the extension folder `_extensions`

# Markdown Basics

This section of the template is adapted from [Quarto's documentation on Markdown basics](https://quarto.org/docs/authoring/markdown-basics.html).


## Code chunk {#sec-chunks}

This format hide chunks by default as option has been set in `_extension.yml` file.

```{r}
#| prompt: true
# Loading some data but this chunk won't be shown.
data("quine", package = "MASS")
```

But you can set `echo` option to `true` locally in the chunk

```{r}
#| echo: true
m_pois <- glm(Days ~ (Eth + Sex + Age + Lrn)^2, data = quine, family = poisson)
summary(m_pois)
```


## Table captions {#tbl-cap}

```{r}
#| echo: true
#| label: tbl-glm
#| tbl-cap: "A table."

# install.packages("broom")
# install.packages("kableExtra")
data("quine", package = "MASS")
m_pois <- glm(Days ~ (Eth + Sex + Age + Lrn)^2, data = quine, family = poisson)
kableExtra::kable_styling(
  kableExtra::kbl(broom::tidy(m_pois))
)
```

## Cross-references {#sec-crf}

![A sunflower](sunflower.png){#fig-sunflower}

+---------------------------------------+---------------------------------+
| Markdown Format                       | Output                          |
+=======================================+=================================+
|     @fig-sunflower is pretty.         | @fig-sunflower is pretty.       |
+---------------------------------------+---------------------------------+
|     @tbl-glm was created from code.   | @tbl-glm was created from code. |
+---------------------------------------+---------------------------------+
|     @sec-crf is this section.         | @sec-crf is this section.       |
+---------------------------------------+---------------------------------+
|     @eq-black-scholes is above.       | @eq-black-scholes is above.     |
+---------------------------------------+---------------------------------+

See the [Quarto documentation on cross-references for more](https://quarto.org/docs/authoring/cross-references.html).


## Citation Syntax {#sec-citations}

This section of the template is adapted from the [Quarto citation documentation](https://quarto.org/docs/authoring/footnotes-and-citations.html).
Quarto uses the standard Pandoc markdown representation for citations. Here are some examples:
See the [Pandoc Citations](https://pandoc.org/MANUAL.html#citations) documentation for additional information on citation syntax.

+-------------------------------------------+---------------------------------------------------------------------+
| Markdown Format                           | Output                                                              |
+===========================================+=====================================================================+
|     Blah Blah [see @knuth1984, pp. 33-35; | Blah Blah [see @knuth1984, pp. 33-35; also @wickham2015, chap. 1]   |
|     also @wickham2015, chap. 1]           |                                                                     |
+-------------------------------------------+---------------------------------------------------------------------+
|     Blah Blah [@knuth1984, pp. 33-35,     | Blah Blah [@knuth1984, pp. 33-35, 38-39 and passim]                 |
|     38-39 and passim]                     |                                                                     |
+-------------------------------------------+---------------------------------------------------------------------+
|     Blah Blah [@wickham2015; @knuth1984]. | Blah Blah [@wickham2015; @knuth1984].                               |
+-------------------------------------------+---------------------------------------------------------------------+
|     Wickham says blah [-@wickham2015]     | Wickham says blah [-@wickham2015]                                   |
+-------------------------------------------+---------------------------------------------------------------------+

You can also write in-text citations, as follows:

+-----------------------------------+-------------------------------+
| Markdown Format                   | Output                        |
+===================================+===============================+
|     @knuth1984 says blah.         | @knuth1984 says blah.         |
+-----------------------------------+-------------------------------+
|     @knuth1984 [p. 33] says blah. | @knuth1984 [p. 33] says blah. |
+-----------------------------------+-------------------------------+



Differences between `aft-html` and `aft-pdf`: 

* For the HTML format, we are using Pandoc citeproc to include the bibliography. Here `reference-section-title` controls the title for the chapter that will be used.
* For the PDF format, `natbib` is used by default and the bibliography is included with a title by the LaTeX template. 
